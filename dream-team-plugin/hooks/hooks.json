{
  "description": "Dream Team hooks for worktree validation, destructive git protection, spelunk staleness tracking, and subagent monitoring",
  "hooks": {
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "bash ${CLAUDE_PLUGIN_ROOT}/hooks/scripts/session-init.sh",
            "timeout": 10
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Check if this Task tool call is spawning a dream-team agent (subagent_type contains 'dream-team:'). If it is, enforce model assignment: dream-team:architect MUST use model 'opus'. All others (dream-team:product, dream-team:qa, dream-team:coding, dream-team:code-review, dream-team:ui-ux-designer) MUST use model 'sonnet'. If the model parameter is missing or set to the wrong value, BLOCK the call and tell the agent to re-issue it with the correct model parameter. If this is not a dream-team agent spawn, or the model is correct, respond with 'proceed'."
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "If this Bash command involves 'git worktree add' or 'git worktree remove', verify that: (1) The worktree directory follows the convention ../worktrees/{agent-name}-task-{id}, (2) A feature branch will be created (not working directly on the epic branch), (3) The worktree doesn't already exist. If all checks pass or the command is not worktree-related, respond with 'proceed'. If there's an issue, explain what needs to change."
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "If this Bash command involves 'git push --force' or 'git reset --hard' or 'git clean -f', BLOCK the command and explain that destructive git operations require explicit user confirmation. Respond with 'proceed' for all other commands."
          }
        ]
      }
    ],
    "PostToolUse": [],
    "SubagentStop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "A teammate agent has stopped. Check if they completed their assigned task by looking at the task list. If their task is not marked as completed, flag this to the team lead so they can investigate. Respond with 'proceed' if the task was completed successfully."
          }
        ]
      }
    ]
  }
}
